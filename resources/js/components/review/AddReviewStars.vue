<template>
  <div class="flex mt-6">
    <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg" class="star" v-for="n in fullStars" @click="rate(n)" :key="n+10">
      <path d="M12.0979 1.8541C12.6966 0.0114758 15.3034 0.0114809 15.9021 1.8541L17.8167 7.74671C18.0845 8.57076 18.8524 9.12868 19.7189 9.12868H25.9147C27.8522 9.12868 28.6577 11.6079 27.0903 12.7467L22.0777 16.3885C21.3767 16.8978 21.0834 17.8006 21.3512 18.6246L23.2658 24.5172C23.8645 26.3598 21.7556 27.8921 20.1881 26.7533L15.1756 23.1115C14.4746 22.6022 13.5254 22.6022 12.8244 23.1115L7.81187 26.7533C6.24444 27.8921 4.13549 26.3598 4.73419 24.5172L6.64882 18.6246C6.91657 17.8006 6.62325 16.8978 5.92227 16.3885L0.909718 12.7467C-0.657709 11.6079 0.147847 9.12868 2.08529 9.12868H8.28115C9.1476 9.12868 9.91551 8.57076 10.1833 7.74671L12.0979 1.8541Z" fill="#EB5757"/>
    </svg>

    <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg" v-for="n in emptyStars" :key="n" @click="rate(n + fullStars)" class="star">
      <path d="M15.4266 2.00861L17.3412 7.90122C17.6759 8.93128 18.6358 9.62868 19.7189 9.62868H25.9147C27.3678 9.62868 27.972 11.4881 26.7964 12.3422L21.7838 15.984C20.9076 16.6206 20.541 17.7491 20.8757 18.7791L22.7903 24.6717C23.2393 26.0537 21.6576 27.2029 20.482 26.3488L15.4695 22.7069C14.5932 22.0703 13.4068 22.0703 12.5305 22.7069L7.51798 26.3488C6.34241 27.2029 4.76069 26.0537 5.20972 24.6717L7.12435 18.7791C7.45903 17.7491 7.09239 16.6206 6.21617 15.984L1.20361 12.3422C0.0280433 11.4881 0.632205 9.62868 2.08529 9.62868H8.28115C9.36422 9.62868 10.3241 8.93128 10.6588 7.90122L12.5734 2.00861C13.0224 0.626643 14.9776 0.626641 15.4266 2.00861Z" stroke="#4F4F4F"/>
    </svg>
  </div>
</template>

<script>
export default {
  data() {
    return {
      emptyStars: 5,
      fullStars: 0
    }
  },
  methods: {
  rate(n) {
    this.fullStars = n;
    this.emptyStars = 5 - n;
    this.$emit('ratingChanged', n);
  }
}
}
</script>

<style scoped>
.star {
  cursor: pointer;
}
.star:not(:first-of-type){
  margin-left: 6px;
}
</style>